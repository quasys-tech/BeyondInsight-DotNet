ÃO
2C:\Users\abdul\source\repos\BeyondInsight\Utils.cs
	namespace 	
BeyondInsight
 
{ 
internal 
class 
Utils 
{		 
static 
Utils 
( 
) 
{ 	
Log 
. 
Logger 
= 
new 
LoggerConfiguration 0
(0 1
)1 2
. 
MinimumLevel 
. 
Debug 
(  
)  !
. 
WriteTo 
. 
Trace 
( 
) 
. 
CreateLogger 
( 
) 
; 
} 	
public 
static 
void 
log 
( 
String %
message& -
,- .
LogLevel/ 7
level8 =
)= >
{ 	
switch 
( 
level 
) 
{ 
case 
LogLevel 
. 
Trace #
:# $
case 
LogLevel 
. 
Debug #
:# $
Log 
. 
Debug 
( 
message %
)% &
;& '
break 
; 
case 
LogLevel 
. 
Information )
:) *
Log 
. 
Information #
(# $
message$ +
)+ ,
;, -
break 
; 
case 
LogLevel 
. 
Warning %
:% &
Log 
. 
Warning 
(  
message  '
)' (
;( )
break   
;   
case!! 
LogLevel!! 
.!! 
Error!! #
:!!# $
Log"" 
."" 
Error"" 
("" 
message"" %
)""% &
;""& '
break## 
;## 
case$$ 
LogLevel$$ 
.$$ 
Critical$$ &
:$$& '
Log%% 
.%% 
Fatal%% 
(%% 
message%% %
)%%% &
;%%& '
break&& 
;&& 
default'' 
:'' 
Log(( 
.(( 
Information(( #
(((# $
message(($ +
)((+ ,
;((, -
break)) 
;)) 
}** 
}++ 	
public-- 
static-- 
JObject-- 
createSecretFile-- .
(--. /
JObject--/ 6
secret--7 =
,--= >
String--? E
content--F M
)--M N
{.. 	
String// 
path// 
=// 
secret//  
.//  !
Value//! &
<//& '
string//' -
>//- .
(//. /
$str/// ;
)//; <
.//< =
Replace//= D
(//D E
$str//E I
,//I J
$str//K N
)//N O
+//P Q
$str//R U
+//V W
secret//X ^
.//^ _
Value//_ d
<//d e
string//e k
>//k l
(//l m
$str//m t
)//t u
;//u v
String00 
filePath00 
=00 
createFolders00 +
(00+ ,
path00, 0
)000 1
;001 2
File11 
.11 
WriteAllText11 
(11 
filePath11 &
,11& '
content11( /
+110 1
$str112 6
)116 7
;117 8
JObject33 

jsonObject33 
=33  
new33! $
JObject33% ,
(33, -
)33- .
;33. /

jsonObject44 
.44 
Add44 
(44 
$str44 %
,44% &
secret44' -
.44- .
Value44. 3
<443 4
string444 :
>44: ;
(44; <
$str44< F
)44F G
??44H J
$str44K M
)44M N
;44N O

jsonObject55 
.55 
Add55 
(55 
$str55 "
,55" #
secret55$ *
.55* +
Value55+ 0
<550 1
string551 7
>557 8
(558 9
$str559 @
)55@ A
)55A B
;55B C

jsonObject66 
.66 
Add66 
(66 
$str66 %
,66% &
secret66' -
.66- .
Value66. 3
<663 4
string664 :
>66: ;
(66; <
$str66< F
)66F G
??66H J
$str66K M
)66M N
;66N O

jsonObject77 
.77 
Add77 
(77 
$str77 '
,77' (
secret77) /
.77/ 0
Value770 5
<775 6
string776 <
>77< =
(77= >
$str77> J
)77J K
)77K L
;77L M

jsonObject88 
.88 
Add88 
(88 
$str88 %
,88% &
filePath88' /
)88/ 0
;880 1

jsonObject99 
.99 
Add99 
(99 
$str99 )
,99) *
true99+ /
)99/ 0
;990 1
return:: 

jsonObject:: 
;:: 
};; 	
public== 
static== 
JObject== !
convertSecretToObject== 3
(==3 4
JObject==4 ;
secret==< B
)==B C
{>> 	
JObject?? 

jsonObject?? 
=??  
new??! $
JObject??% ,
(??, -
)??- .
;??. /

jsonObject@@ 
.@@ 
Add@@ 
(@@ 
$str@@ %
,@@% &
secret@@' -
.@@- .
Value@@. 3
<@@3 4
string@@4 :
>@@: ;
(@@; <
$str@@< F
)@@F G
)@@G H
;@@H I

jsonObjectAA 
.AA 
AddAA 
(AA 
$strAA "
,AA" #
secretAA$ *
.AA* +
ValueAA+ 0
<AA0 1
stringAA1 7
>AA7 8
(AA8 9
$strAA9 @
)AA@ A
)AAA B
;AAB C

jsonObjectBB 
.BB 
AddBB 
(BB 
$strBB %
,BB% &
secretBB' -
.BB- .
ValueBB. 3
<BB3 4
stringBB4 :
>BB: ;
(BB; <
$strBB< F
)BBF G
??BBH J
$strBBK M
)BBM N
;BBN O

jsonObjectCC 
.CC 
AddCC 
(CC 
$strCC '
,CC' (
secretCC) /
.CC/ 0
ValueCC0 5
<CC5 6
stringCC6 <
>CC< =
(CC= >
$strCC> J
)CCJ K
)CCK L
;CCL M

jsonObjectDD 
.DD 
AddDD 
(DD 
$strDD %
,DD% &
$strDD' )
)DD) *
;DD* +

jsonObjectEE 
.EE 
AddEE 
(EE 
$strEE )
,EE) *
falseEE+ 0
)EE0 1
;EE1 2
returnFF 

jsonObjectFF 
;FF 
}GG 	
publicJJ 
staticJJ 
JObjectJJ )
convertManagedAccountToObjectJJ ;
(JJ; <
JObjectJJ< C
secretJJD J
,JJJ K
StringJJL R
contentJJS Z
)JJZ [
{KK 	
JObjectLL 

jsonObjectLL 
=LL  
newLL! $
JObjectLL% ,
(LL, -
)LL- .
;LL. /

jsonObjectMM 
.MM 
AddMM 
(MM 
$strMM %
,MM% &
contentMM' .
)MM. /
;MM/ 0

jsonObjectNN 
.NN 
AddNN 
(NN 
$strNN '
,NN' (
secretNN) /
.NN/ 0
ValueNN0 5
<NN5 6
stringNN6 <
>NN< =
(NN= >
$strNN> J
)NNJ K
)NNK L
;NNL M

jsonObjectOO 
.OO 
AddOO 
(OO 
$strOO (
,OO( )
secretOO* 0
.OO0 1
ValueOO1 6
<OO6 7
stringOO7 =
>OO= >
(OO> ?
$strOO? L
)OOL M
)OOM N
;OON O

jsonObjectPP 
.PP 
AddPP 
(PP 
$strPP '
,PP' (
secretPP) /
.PP/ 0
ValuePP0 5
<PP5 6
stringPP6 <
>PP< =
(PP= >
$strPP> J
)PPJ K
+PPL M
$strPPN Q
+PPR S
secretPPT Z
.PPZ [
ValuePP[ `
<PP` a
stringPPa g
>PPg h
(PPh i
$strPPi v
)PPv w
)PPw x
;PPx y

jsonObjectQQ 
.QQ 
AddQQ 
(QQ 
$strQQ )
,QQ) *
falseQQ+ 0
)QQ0 1
;QQ1 2
returnRR 

jsonObjectRR 
;RR 
}SS 	
publicUU 
staticUU 
StringUU 
createFoldersUU *
(UU* +
StringUU+ 1
pathUU2 6
)UU6 7
{VV 	
stringWW 

folderPathWW 
=WW 
PathWW  $
.WW$ %
CombineWW% ,
(WW, -
SettingsWW- 5
.WW5 6
SECRETS_PATHWW6 B
,WWB C
pathWWD H
)WWH I
;WWI J
stringXX 
parentDirectoryXX "
=XX# $
PathXX% )
.XX) *
GetDirectoryNameXX* :
(XX: ;

folderPathXX; E
)XXE F
;XXF G
ifZZ 
(ZZ 
!ZZ 
	DirectoryZZ 
.ZZ 
ExistsZZ !
(ZZ! "
parentDirectoryZZ" 1
)ZZ1 2
)ZZ2 3
{[[ 
	Directory\\ 
.\\ 
CreateDirectory\\ )
(\\) *
parentDirectory\\* 9
)\\9 :
;\\: ;
}]] 
return^^ 

folderPath^^ 
;^^ 
}__ 	
}`` 
}aa  
5C:\Users\abdul\source\repos\BeyondInsight\Settings.cs
	namespace 	
BeyondInsight
 
{ 
public 

class 
Settings 
{ 
public 
static 
String 

BT_API_URL '
=( )
Environment* 5
.5 6"
GetEnvironmentVariable6 L
(L M
$strM Y
)Y Z
;Z [
public 
static 
String 
REQUEST_HEADERS ,
=- .
$str/ =
+> ?
Environment@ K
.K L"
GetEnvironmentVariableL b
(b c
$strc o
)o p
;p q
public		 
static		 
bool		 &
FETCH_ALL_MANAGED_ACCOUNTS		 5
=		6 7
bool		8 <
.		< =
TryParse		= E
(		E F"
GetEnvironmentVariable		F \
(		\ ]
$str		] y
,		y z
$str			{ Ç
)
		Ç É
,
		É Ñ
out
		Ö à
var
		â å
result
		ç ì
)
		ì î
&&
		ï ó
result
		ò û
;
		û ü
public 
static 
String 
APP_PATH %
=& '
$str( 6
;6 7
public 
static 
String "
DEFAULT_SECRETS_FOLDER 3
=4 5
$str6 E
;E F
public 
static 
String 
SECRETS_PATH )
=* +
APP_PATH, 4
+5 6
$str7 :
+; <"
DEFAULT_SECRETS_FOLDER= S
;S T
static 
Settings 
( 
) 
{ 	
String 
secretsPath 
=  
Environment! ,
., -"
GetEnvironmentVariable- C
(C D
$strD R
)R S
;S T
if 
( 
! 
string 
. 
IsNullOrWhiteSpace *
(* +
secretsPath+ 6
)6 7
)7 8
{ 
SECRETS_PATH 
= 
secretsPath *
;* +
} 
} 	
public 
static 
String 
SECRETS_LIST )
=* +"
GetEnvironmentVariable, B
(B C
$strC Q
,Q R
$strS U
)U V
;V W
public 
static 
String 
FOLDER_LIST (
=) *"
GetEnvironmentVariable+ A
(A B
$strB O
,O P
$strQ S
)S T
;T U
public 
static 
String !
MANAGED_ACCOUNTS_LIST 2
=3 4"
GetEnvironmentVariable5 K
(K L
$strL c
,c d
$stre g
)g h
;h i
public 
static 
String !
BT_CLIENT_CERTIFICATE 2
=3 4
Environment5 @
.@ A"
GetEnvironmentVariableA W
(W X
$strX o
)o p
;p q
public 
static 
String 
EXCECUTION_ID *
=+ ,
null- 1
;1 2
public   
static   
String   
APP_VERSION   (
=  ) *
$str  + 2
;  2 3
public## 
static## 
string## "
GetEnvironmentVariable## 3
(##3 4
string##4 :
key##; >
,##> ?
string##@ F
defaultValue##G S
)##S T
{$$ 	
var%% 
value%% 
=%% 
Environment%% #
.%%# $"
GetEnvironmentVariable%%$ :
(%%: ;
key%%; >
)%%> ?
;%%? @
return&& 
value&& 
??&& 
defaultValue&& (
;&&( )
}'' 	
}(( 
})) Ãÿ
4C:\Users\abdul\source\repos\BeyondInsight\Service.cs
	namespace 	
BeyondInsight
 
{		 
internal

 
class

 
Service

 
{ 
private 
static 
String 
cookie $
;$ %
private 
static 
HttpClientHandler (#
createHttpClientHandler) @
(@ A
)A B
{ 	
var 

certBase64 
= 
Settings %
.% &!
BT_CLIENT_CERTIFICATE& ;
.; <
Replace< C
(C D
$strD a
,a b
$strc e
)e f
. 
Replace 
( 
$str 4
,4 5
$str6 8
)8 9
. 
Replace 
( 
$str 
, 
$str !
)! "
. 
Replace 
( 
$str 
, 
$str !
)! "
. 
Trim 
( 
) 
; 
var 
	certBytes 
= 
Convert #
.# $
FromBase64String$ 4
(4 5

certBase645 ?
)? @
;@ A
var 
trustedCert 
= 
new !
X509Certificate2" 2
(2 3
	certBytes3 <
)< =
;= >
var 
handler 
= 
new 
HttpClientHandler /
(/ 0
)0 1
;1 2
handler 
. 5
)ServerCertificateCustomValidationCallback =
=> ?
(@ A
senderA G
,G H
certI M
,M N
chainO T
,T U
sslPolicyErrorsV e
)e f
=>g i
{ 
var 

serverCert 
=  
new! $
X509Certificate2% 5
(5 6
cert6 :
): ;
;; <
return 

serverCert !
.! "

Thumbprint" ,
==- /
trustedCert0 ;
.; <

Thumbprint< F
;F G
} 
; 
handler 
. 
SslProtocols  
=! "
System# )
.) *
Security* 2
.2 3
Authentication3 A
.A B
SslProtocolsB N
.N O
Tls12O T
;T U
handler   
.   
CookieContainer   #
=  $ %
new  & )
CookieContainer  * 9
(  9 :
)  : ;
;  ; <
handler!! 
.!! 
CookieContainer!! #
.!!# $

SetCookies!!$ .
(!!. /
new!!/ 2
Uri!!3 6
(!!6 7
Settings!!7 ?
.!!? @

BT_API_URL!!@ J
)!!J K
,!!K L
cookie!!M S
)!!S T
;!!T U
return"" 
handler"" 
;"" 
}## 	
public$$ 
static$$ 
async$$ 
Task$$  
<$$  !
string$$! '
>$$' (
	SignAppIn$$) 2
($$2 3
)$$3 4
{%% 	
String&& 
url&& 
=&& 
Settings&& !
.&&! "

BT_API_URL&&" ,
+&&- .
$str&&/ @
;&&@ A
cookie'' 
='' 
$str'' 
;'' 
HttpClientHandler(( 
handler(( %
=((& '#
createHttpClientHandler((( ?
(((? @
)((@ A
;((A B

HttpClient)) 
client)) 
=)) 
new))  #

HttpClient))$ .
()). /
handler))/ 6
)))6 7
;))7 8
HttpRequestMessage** 
request** &
=**' (
new**) ,
HttpRequestMessage**- ?
(**? @

HttpMethod**@ J
.**J K
Post**K O
,**O P
url**Q T
)**T U
;**U V
request++ 
.++ 
Headers++ 
.++ 
Add++ 
(++  
$str++  (
,++( )
$str++* <
)++< =
;++= >
request,, 
.,, 
Headers,, 
.,, #
TryAddWithoutValidation,, 3
(,,3 4
$str,,4 C
,,,C D
Settings,,E M
.,,M N
REQUEST_HEADERS,,N ]
),,] ^
;,,^ _
request.. 
... 
Content.. 
=.. 
new.. !
StringContent.." /
(../ 0
$str..0 2
,..2 3
System..4 :
...: ;
Text..; ?
...? @
Encoding..@ H
...H I
UTF8..I M
,..M N
$str..O a
)..a b
;..b c
HttpResponseMessage11 
response11  (
=11) *
await11+ 0
client111 7
.117 8
	SendAsync118 A
(11A B
request11B I
)11I J
;11J K
String22 
responseBody22 
=22  !
await22" '
response22( 0
.220 1
Content221 8
.228 9
ReadAsStringAsync229 J
(22J K
)22K L
;22L M
if33 
(33 
response33 
.33 

StatusCode33 #
==33$ &
HttpStatusCode33' 5
.335 6
OK336 8
)338 9
{44 
if55 
(55 
response55 
.55 
Headers55 $
.55$ %
TryGetValues55% 1
(551 2
$str552 >
,55> ?
out55@ C
var55D G
cookieValues55H T
)55T U
)55U V
{66 
cookie77 
=77 
String77 #
.77# $
Join77$ (
(77( )
$str77) -
,77- .
cookieValues77/ ;
)77; <
;77< =
}88 
Utils99 
.99 
log99 
(99 
$str99 /
,99/ 0
LogLevel991 9
.999 :
Information99: E
)99E F
;99F G
return:: 
responseBody:: #
.::# $
ToString::$ ,
(::, -
)::- .
;::. /
};; 
Utils<< 
.<< 
log<< 
(<< 
$str<< 5
+<<6 7
responseBody<<8 D
.<<D E
ToString<<E M
(<<M N
)<<N O
,<<O P
LogLevel<<Q Y
.<<Y Z
Error<<Z _
)<<_ `
;<<` a
return== 
null== 
;== 
}>> 	
public@@ 
static@@ 
async@@ 
Task@@  
<@@  !
bool@@! %
>@@% &

signAppOut@@' 1
(@@1 2
)@@2 3
{AA 	
StringBB 
urlBB 
=BB 
SettingsBB !
.BB! "

BT_API_URLBB" ,
+BB- .
$strBB/ >
;BB> ?
HttpClientHandlerCC 
handlerCC %
=CC& '#
createHttpClientHandlerCC( ?
(CC? @
)CC@ A
;CCA B

HttpClientDD 
clientDD 
=DD 
newDD  #

HttpClientDD$ .
(DD. /
handlerDD/ 6
)DD6 7
;DD7 8
HttpRequestMessageEE 
requestEE &
=EE' (
newEE) ,
HttpRequestMessageEE- ?
(EE? @

HttpMethodEE@ J
.EEJ K
PostEEK O
,EEO P
urlEEQ T
)EET U
;EEU V
requestFF 
.FF 
ContentFF 
=FF 
newFF !
StringContentFF" /
(FF/ 0
$strFF0 2
,FF2 3
SystemFF4 :
.FF: ;
TextFF; ?
.FF? @
EncodingFF@ H
.FFH I
UTF8FFI M
,FFM N
$strFFO a
)FFa b
;FFb c
HttpResponseMessageGG 
responseGG  (
=GG) *
awaitGG+ 0
clientGG1 7
.GG7 8
	SendAsyncGG8 A
(GGA B
requestGGB I
)GGI J
;GGJ K
StringHH 
responseBodyHH 
=HH  !
awaitHH" '
responseHH( 0
.HH0 1
ContentHH1 8
.HH8 9
ReadAsStringAsyncHH9 J
(HHJ K
)HHK L
;HHL M
ifII 
(II 
responseII 
.II 

StatusCodeII #
==II$ &
HttpStatusCodeII' 5
.II5 6
OKII6 8
)II8 9
{JJ 
UtilsKK 
.KK 
logKK 
(KK 
$strKK /
,KK/ 0
LogLevelKK1 9
.KK9 :
InformationKK: E
)KKE F
;KKF G
cookieLL 
=LL 
$strLL 
;LL 
returnMM 
trueMM 
;MM 
}NN 
UtilsOO 
.OO 
logOO 
(OO 
$strOO B
,OOB C
LogLevelOOD L
.OOL M
ErrorOOM R
)OOR S
;OOS T
returnPP 
falsePP 
;PP 
}QQ 	
publicSS 
staticSS 
asyncSS 
TaskSS  
<SS  !
StringSS! '
>SS' (
getSecretByPathSS) 8
(SS8 9
StringSS9 ?
pathSS@ D
,SSD E
StringSSF L
titleSSM R
,SSR S
charSST X
	separatorSSY b
,SSb c
boolSSd h
	sendTitleSSi r
)SSr s
{TT 	
StringUU 
urlUU 
=UU 
SettingsUU !
.UU! "

BT_API_URLUU" ,
+UU- .
$strUU/ F
+UUG H
$strUUI Q
+UUR S
pathUUT X
+UUY Z
$strUU[ h
+UUi j
	separatorUUk t
;UUt u
ifVV 
(VV 
	sendTitleVV 
)VV 
{WW 
urlXX 
=XX 
SettingsXX 
.XX 

BT_API_URLXX )
+XX* +
$strXX, C
+XXD E
$strXXF O
+XXP Q
titleXXR W
+XXX Y
$strXXZ b
+XXc d
pathXXe i
+XXj k
$strXXl y
+XXz {
	separator	XX| Ö
;
XXÖ Ü
}YY 
HttpClientHandlerZZ 
handlerZZ %
=ZZ& '#
createHttpClientHandlerZZ( ?
(ZZ? @
)ZZ@ A
;ZZA B

HttpClient]] 
client]] 
=]] 
new]]  #

HttpClient]]$ .
(]]. /
handler]]/ 6
)]]6 7
;]]7 8
HttpRequestMessage^^ 
request^^ &
=^^' (
new^^) ,
HttpRequestMessage^^- ?
(^^? @

HttpMethod^^@ J
.^^J K
Get^^K N
,^^N O
url^^P S
)^^S T
;^^T U
request__ 
.__ 
Headers__ 
.__ 
Add__ 
(__  
$str__  (
,__( )
$str__* <
)__< =
;__= >
request`` 
.`` 
Headers`` 
.`` #
TryAddWithoutValidation`` 3
(``3 4
$str``4 C
,``C D
Settings``E M
.``M N
REQUEST_HEADERS``N ]
)``] ^
;``^ _
HttpResponseMessageaa 
responseaa  (
=aa) *
awaitaa+ 0
clientaa1 7
.aa7 8
	SendAsyncaa8 A
(aaA B
requestaaB I
)aaI J
;aaJ K
Stringbb 
responseBodybb 
=bb  !
awaitbb" '
responsebb( 0
.bb0 1
Contentbb1 8
.bb8 9
ReadAsStringAsyncbb9 J
(bbJ K
)bbK L
;bbL M
ifcc 
(cc 
responsecc 
.cc 

StatusCodecc #
==cc$ &
HttpStatusCodecc' 5
.cc5 6
OKcc6 8
)cc8 9
{dd 
returnee 
responseBodyee #
.ee# $
ToStringee$ ,
(ee, -
)ee- .
;ee. /
}ff 
Utilsgg 
.gg 
loggg 
(gg 
$strgg O
+ggP Q
pathggR V
+ggW X
$strggY f
+ggg h
titleggi n
+ggo p
$strggq 
+
ggÄ Å
responseBody
ggÇ é
.
ggé è
ToString
ggè ó
(
ggó ò
)
ggò ô
,
ggô ö
LogLevel
ggõ £
.
gg£ §
Error
gg§ ©
)
gg© ™
;
gg™ ´
ifhh 
(hh 
!hh 

signAppOuthh 
(hh 
)hh 
.hh 
Resulthh $
)hh$ %
{ii 
Utilsjj 
.jj 
logjj 
(jj 
$strjj 4
,jj4 5
LogLeveljj6 >
.jj> ?
Errorjj? D
)jjD E
;jjE F
}kk 
returnll 
nullll 
;ll 
}mm 	
publicoo 
staticoo 
asyncoo 
Taskoo  
<oo  !
Stringoo! '
>oo' (
getSecretFilebyIdoo) :
(oo: ;
Stringoo; A
secretIdooB J
)ooJ K
{pp 	
Stringqq 
urlqq 
=qq 
Settingsqq !
.qq! "

BT_API_URLqq" ,
+qq- .
$strqq/ G
+qqH I
secretIdqqJ R
+qqS T
$strqqU e
;qqe f
HttpClientHandlerrr 
handlerrr %
=rr& '#
createHttpClientHandlerrr( ?
(rr? @
)rr@ A
;rrA B

HttpClienttt 
clienttt 
=tt 
newtt  #

HttpClienttt$ .
(tt. /
handlertt/ 6
)tt6 7
;tt7 8
HttpRequestMessageuu 
requestuu &
=uu' (
newuu) ,
HttpRequestMessageuu- ?
(uu? @

HttpMethoduu@ J
.uuJ K
GetuuK N
,uuN O
urluuP S
)uuS T
;uuT U
requestvv 
.vv 
Headersvv 
.vv 
Addvv 
(vv  
$strvv  (
,vv( )
$strvv* <
)vv< =
;vv= >
requestww 
.ww 
Headersww 
.ww #
TryAddWithoutValidationww 3
(ww3 4
$strww4 C
,wwC D
SettingswwE M
.wwM N
REQUEST_HEADERSwwN ]
)ww] ^
;ww^ _
HttpResponseMessagexx 
responsexx  (
=xx) *
awaitxx+ 0
clientxx1 7
.xx7 8
	SendAsyncxx8 A
(xxA B
requestxxB I
)xxI J
;xxJ K
Stringyy 
responseBodyyy 
=yy  !
awaityy" '
responseyy( 0
.yy0 1
Contentyy1 8
.yy8 9
ReadAsStringAsyncyy9 J
(yyJ K
)yyK L
;yyL M
ifzz 
(zz 
responsezz 
.zz 

StatusCodezz #
==zz$ &
HttpStatusCodezz' 5
.zz5 6
OKzz6 8
)zz8 9
{{{ 
return|| 
responseBody|| #
.||# $
ToString||$ ,
(||, -
)||- .
;||. /
}}} 
Utils~~ 
.~~ 
log~~ 
(~~ 
string~~ 
.~~ 
Format~~ #
(~~# $
$str~~$ d
,~~d e
secretId~~f n
,~~n o
response~~p x
.~~x y
ToString	~~y Å
(
~~Å Ç
)
~~Ç É
)
~~É Ñ
,
~~Ñ Ö
LogLevel
~~Ü é
.
~~é è
Error
~~è î
)
~~î ï
;
~~ï ñ
if 
( 
! 

signAppOut 
( 
) 
. 
Result $
)$ %
{
ÄÄ 
Utils
ÅÅ 
.
ÅÅ 
log
ÅÅ 
(
ÅÅ 
$str
ÅÅ 4
,
ÅÅ4 5
LogLevel
ÅÅ6 >
.
ÅÅ> ?
Error
ÅÅ? D
)
ÅÅD E
;
ÅÅE F
}
ÇÇ 
return
ÉÉ 
null
ÉÉ 
;
ÉÉ 
}
ÑÑ 	
public
ÜÜ 
static
ÜÜ 
async
ÜÜ 
Task
ÜÜ  
<
ÜÜ  !
String
ÜÜ! '
>
ÜÜ' ( 
getManagedAccounts
ÜÜ) ;
(
ÜÜ; <
String
ÜÜ< B

systemName
ÜÜC M
,
ÜÜM N
String
ÜÜO U
accountName
ÜÜV a
)
ÜÜa b
{
áá 	
String
àà 
url
àà 
=
àà 
Settings
àà !
.
àà! "

BT_API_URL
àà" ,
+
àà- .
$str
àà/ M
+
ààN O

systemName
ààP Z
+
àà[ \
$str
àà] l
+
ààm n
accountName
àào z
;
ààz {
HttpClientHandler
ââ 
handler
ââ %
=
ââ& '%
createHttpClientHandler
ââ( ?
(
ââ? @
)
ââ@ A
;
ââA B

HttpClient
ãã 
client
ãã 
=
ãã 
new
ãã  #

HttpClient
ãã$ .
(
ãã. /
handler
ãã/ 6
)
ãã6 7
;
ãã7 8 
HttpRequestMessage
åå 
request
åå &
=
åå' (
new
åå) , 
HttpRequestMessage
åå- ?
(
åå? @

HttpMethod
åå@ J
.
ååJ K
Get
ååK N
,
ååN O
url
ååP S
)
ååS T
;
ååT U
request
çç 
.
çç 
Headers
çç 
.
çç 
Add
çç 
(
çç  
$str
çç  (
,
çç( )
$str
çç* <
)
çç< =
;
çç= >
request
éé 
.
éé 
Headers
éé 
.
éé %
TryAddWithoutValidation
éé 3
(
éé3 4
$str
éé4 C
,
ééC D
Settings
ééE M
.
ééM N
REQUEST_HEADERS
ééN ]
)
éé] ^
;
éé^ _!
HttpResponseMessage
èè 
response
èè  (
=
èè) *
await
èè+ 0
client
èè1 7
.
èè7 8
	SendAsync
èè8 A
(
èèA B
request
èèB I
)
èèI J
;
èèJ K
String
êê 
responseBody
êê 
=
êê  !
await
êê" '
response
êê( 0
.
êê0 1
Content
êê1 8
.
êê8 9
ReadAsStringAsync
êê9 J
(
êêJ K
)
êêK L
;
êêL M
if
ëë 
(
ëë 
response
ëë 
.
ëë 

StatusCode
ëë #
==
ëë$ &
HttpStatusCode
ëë' 5
.
ëë5 6
OK
ëë6 8
)
ëë8 9
{
íí 
return
ìì 
responseBody
ìì #
.
ìì# $
ToString
ìì$ ,
(
ìì, -
)
ìì- .
;
ìì. /
}
îî 
Utils
ïï 
.
ïï 
log
ïï 
(
ïï 
string
ïï 
.
ïï 
Format
ïï #
(
ïï# $
$strïï$ å
,ïïå ç

systemNameïïé ò
,ïïò ô
accountNameïïö •
,ïï• ¶
responseBodyïïß ≥
.ïï≥ ¥
ToStringïï¥ º
(ïïº Ω
)ïïΩ æ
)ïïæ ø
,ïïø ¿
LogLevelïï¡ …
.ïï…  
Errorïï  œ
)ïïœ –
;ïï– —
if
ññ 
(
ññ 
!
ññ 

signAppOut
ññ 
(
ññ 
)
ññ 
.
ññ 
Result
ññ $
)
ññ$ %
{
óó 
Utils
òò 
.
òò 
log
òò 
(
òò 
$str
òò 4
,
òò4 5
LogLevel
òò6 >
.
òò> ?
Error
òò? D
)
òòD E
;
òòE F
}
ôô 
return
öö 
null
öö 
;
öö 
}
õõ 	
public
ùù 
static
ùù 
async
ùù 
Task
ùù  
<
ùù  !
String
ùù! '
>
ùù' ()
createRequestInPasswordSafe
ùù) D
(
ùùD E
int
ùùE H
systemID
ùùI Q
,
ùùQ R
int
ùùS V
	accountID
ùùW `
)
ùù` a
{
ûû 	
String
üü 
url
üü 
=
üü 
Settings
üü !
.
üü! "

BT_API_URL
üü" ,
+
üü- .
$str
üü/ :
;
üü: ;
string
†† 
body
†† 
=
†† 
$@"
†† 
$str
†¢ 
{
¢¢ 
systemID
¢¢ 
}
¢¢ 
$str
¢£ 
{
££ 
	accountID
££ 
}
££ 
$str
£ß 
"
ßß 
;
ßß 
HttpClientHandler
®® 
handler
®® %
=
®®& '%
createHttpClientHandler
®®( ?
(
®®? @
)
®®@ A
;
®®A B

HttpClient
©© 
client
©© 
=
©© 
new
©©  #

HttpClient
©©$ .
(
©©. /
handler
©©/ 6
)
©©6 7
;
©©7 8 
HttpRequestMessage
™™ 
request
™™ &
=
™™' (
new
™™) , 
HttpRequestMessage
™™- ?
(
™™? @

HttpMethod
™™@ J
.
™™J K
Post
™™K O
,
™™O P
url
™™Q T
)
™™T U
;
™™U V
request
´´ 
.
´´ 
Headers
´´ 
.
´´ 
Add
´´ 
(
´´  
$str
´´  (
,
´´( )
$str
´´* <
)
´´< =
;
´´= >
request
¨¨ 
.
¨¨ 
Headers
¨¨ 
.
¨¨ %
TryAddWithoutValidation
¨¨ 3
(
¨¨3 4
$str
¨¨4 C
,
¨¨C D
Settings
¨¨E M
.
¨¨M N
REQUEST_HEADERS
¨¨N ]
)
¨¨] ^
;
¨¨^ _
request
ÆÆ 
.
ÆÆ 
Content
ÆÆ 
=
ÆÆ 
new
ÆÆ !
StringContent
ÆÆ" /
(
ÆÆ/ 0
body
ÆÆ0 4
,
ÆÆ4 5
System
ÆÆ6 <
.
ÆÆ< =
Text
ÆÆ= A
.
ÆÆA B
Encoding
ÆÆB J
.
ÆÆJ K
UTF8
ÆÆK O
,
ÆÆO P
$str
ÆÆQ c
)
ÆÆc d
;
ÆÆd e!
HttpResponseMessage
±± 
response
±±  (
=
±±) *
await
±±+ 0
client
±±1 7
.
±±7 8
	SendAsync
±±8 A
(
±±A B
request
±±B I
)
±±I J
;
±±J K
String
≤≤ 
responseBody
≤≤ 
=
≤≤  !
await
≤≤" '
response
≤≤( 0
.
≤≤0 1
Content
≤≤1 8
.
≤≤8 9
ReadAsStringAsync
≤≤9 J
(
≤≤J K
)
≤≤K L
;
≤≤L M
if
≥≥ 
(
≥≥ 
response
≥≥ 
.
≥≥ 

StatusCode
≥≥ #
==
≥≥$ &
HttpStatusCode
≥≥' 5
.
≥≥5 6
OK
≥≥6 8
||
≥≥9 ;
response
≥≥< D
.
≥≥D E

StatusCode
≥≥E O
==
≥≥P R
HttpStatusCode
≥≥S a
.
≥≥a b
Created
≥≥b i
)
≥≥i j
{
¥¥ 
return
µµ 
responseBody
µµ #
.
µµ# $
ToString
µµ$ ,
(
µµ, -
)
µµ- .
;
µµ. /
}
∂∂ 
Utils
∑∑ 
.
∑∑ 
log
∑∑ 
(
∑∑ 
string
∑∑ 
.
∑∑ 
Format
∑∑ #
(
∑∑# $
$str
∑∑$ q
,
∑∑q r
body
∑∑s w
,
∑∑w x
responseBody∑∑y Ö
.∑∑Ö Ü
ToString∑∑Ü é
(∑∑é è
)∑∑è ê
)∑∑ê ë
,∑∑ë í
LogLevel∑∑ì õ
.∑∑õ ú
Error∑∑ú °
)∑∑° ¢
;∑∑¢ £
if
∏∏ 
(
∏∏ 
!
∏∏ 

signAppOut
∏∏ 
(
∏∏ 
)
∏∏ 
.
∏∏ 
Result
∏∏ $
)
∏∏$ %
{
ππ 
Utils
∫∫ 
.
∫∫ 
log
∫∫ 
(
∫∫ 
$str
∫∫ 4
,
∫∫4 5
LogLevel
∫∫6 >
.
∫∫> ?
Error
∫∫? D
)
∫∫D E
;
∫∫E F
}
ªª 
return
ºº 
null
ºº 
;
ºº 
}
ΩΩ 	
public
øø 
static
øø 
async
øø 
Task
øø  
<
øø  !
String
øø! '
>
øø' (&
getCredentialByRequestID
øø) A
(
øøA B
String
øøB H
	requestID
øøI R
)
øøR S
{
¿¿ 	
String
¡¡ 
url
¡¡ 
=
¡¡ 
Settings
¡¡ !
.
¡¡! "

BT_API_URL
¡¡" ,
+
¡¡- .
$str
¡¡/ >
+
¡¡? @
	requestID
¡¡A J
;
¡¡J K
HttpClientHandler
¬¬ 
handler
¬¬ %
=
¬¬& '%
createHttpClientHandler
¬¬( ?
(
¬¬? @
)
¬¬@ A
;
¬¬A B

HttpClient
√√ 
client
√√ 
=
√√ 
new
√√  #

HttpClient
√√$ .
(
√√. /
handler
√√/ 6
)
√√6 7
;
√√7 8 
HttpRequestMessage
ƒƒ 
request
ƒƒ &
=
ƒƒ' (
new
ƒƒ) , 
HttpRequestMessage
ƒƒ- ?
(
ƒƒ? @

HttpMethod
ƒƒ@ J
.
ƒƒJ K
Get
ƒƒK N
,
ƒƒN O
url
ƒƒP S
)
ƒƒS T
;
ƒƒT U
request
≈≈ 
.
≈≈ 
Headers
≈≈ 
.
≈≈ 
Add
≈≈ 
(
≈≈  
$str
≈≈  (
,
≈≈( )
$str
≈≈* <
)
≈≈< =
;
≈≈= >
request
∆∆ 
.
∆∆ 
Headers
∆∆ 
.
∆∆ %
TryAddWithoutValidation
∆∆ 3
(
∆∆3 4
$str
∆∆4 C
,
∆∆C D
Settings
∆∆E M
.
∆∆M N
REQUEST_HEADERS
∆∆N ]
)
∆∆] ^
;
∆∆^ _!
HttpResponseMessage
«« 
response
««  (
=
««) *
await
««+ 0
client
««1 7
.
««7 8
	SendAsync
««8 A
(
««A B
request
««B I
)
««I J
;
««J K
String
»» 
responseBody
»» 
=
»»  !
await
»»" '
response
»»( 0
.
»»0 1
Content
»»1 8
.
»»8 9
ReadAsStringAsync
»»9 J
(
»»J K
)
»»K L
;
»»L M
if
…… 
(
…… 
response
…… 
.
…… 

StatusCode
…… #
==
……$ &
HttpStatusCode
……' 5
.
……5 6
OK
……6 8
)
……8 9
{
   
return
ÃÃ 
Regex
ÃÃ 
.
ÃÃ 
Replace
ÃÃ $
(
ÃÃ$ %
responseBody
ÃÃ% 1
,
ÃÃ1 2
$str
ÃÃ3 <
,
ÃÃ< =
$str
ÃÃ> @
)
ÃÃ@ A
;
ÃÃA B
}
ÕÕ 
Utils
ŒŒ 
.
ŒŒ 
log
ŒŒ 
(
ŒŒ 
string
ŒŒ 
.
ŒŒ 
Format
ŒŒ #
(
ŒŒ# $
$strŒŒ$ Ñ
,ŒŒÑ Ö
	requestIDŒŒÜ è
,ŒŒè ê
responseBodyŒŒë ù
.ŒŒù û
ToStringŒŒû ¶
(ŒŒ¶ ß
)ŒŒß ®
)ŒŒ® ©
,ŒŒ© ™
LogLevelŒŒ´ ≥
.ŒŒ≥ ¥
ErrorŒŒ¥ π
)ŒŒπ ∫
;ŒŒ∫ ª
if
œœ 
(
œœ 
!
œœ 

signAppOut
œœ 
(
œœ 
)
œœ 
.
œœ 
Result
œœ $
)
œœ$ %
{
–– 
Utils
—— 
.
—— 
log
—— 
(
—— 
$str
—— 4
,
——4 5
LogLevel
——6 >
.
——> ?
Error
——? D
)
——D E
;
——E F
}
““ 
return
”” 
null
”” 
;
”” 
}
‘‘ 	
}
’’ 
}÷÷ £
5C:\Users\abdul\source\repos\BeyondInsight\LogLevel.cs
	namespace 	
BeyondInsight
 
{ 
public 

enum 
LogLevel 
{ 
Trace		 
,		 
Debug

 
,

 
Information 
, 
Warning 
, 
Error 
, 
Critical 
} 
} ‚ç
:C:\Users\abdul\source\repos\BeyondInsight\BeyondInsight.cs
	namespace 	
BeyondInsight
 
{ 
public		 

class		 
BeyondInsight		 
{

 
public 
static 
JObject 

getSecrets (
(( )
)) *
{ 	
Utils 
. 
log 
( 
$str %
+& '
Settings( 0
.0 1
APP_VERSION1 <
,< =
LogLevel> F
.F G
InformationG R
)R S
;S T
Utils 
. 
log 
( 
$str -
+. /
Settings0 8
.8 9
EXCECUTION_ID9 F
,F G
LogLevelH P
.P Q
InformationQ \
)\ ]
;] ^
Utils 
. 
log 
( 
$str )
,) *
LogLevel+ 3
.3 4
Information4 ?
)? @
;@ A
String 

secretList 
= 
Settings  (
.( )
SECRETS_LIST) 5
.5 6
ToLower6 =
(= >
)> ?
;? @
String 

folderList 
= 
Settings  (
.( )
FOLDER_LIST) 4
.4 5
ToLower5 <
(< =
)= >
;> ?
String 
managedAccountList %
=& '
Settings( 0
.0 1!
MANAGED_ACCOUNTS_LIST1 F
.F G
ToLowerG N
(N O
)O P
;P Q
try 
{ 
if 
( 
String 
. 
IsNullOrWhiteSpace -
(- .
Settings. 6
.6 7

BT_API_URL7 A
)A B
)B C
{ 
throw 
new 
	Exception '
(' (
$str( >
)> ?
;? @
}   
if!! 
(!! 
String!! 
.!! 
IsNullOrWhiteSpace!! -
(!!- .
Settings!!. 6
.!!6 7!
BT_CLIENT_CERTIFICATE!!7 L
)!!L M
)!!M N
{"" 
throw## 
new## 
	Exception## '
(##' (
$str##( I
)##I J
;##J K
}$$ 
Task&& 
<&& 
String&& 
>&& 
user&& !
=&&" #
Service&&$ +
.&&+ ,
	SignAppIn&&, 5
(&&5 6
)&&6 7
;&&7 8
Console'' 
.'' 
	WriteLine'' !
(''! "
user''" &
.''& '
Result''' -
)''- .
;''. /
if** 
(** 
user** 
!=** 
null**  
)**  !
{++ 
JObject,, 
secrets,, #
=,,$ %
getSecretsFromBT,,& 6
(,,6 7

secretList,,7 A
,,,A B

folderList,,C M
,,,M N
managedAccountList,,O a
),,a b
;,,b c
Utils-- 
.-- 
log-- 
(-- 
$str-- 0
+--1 2
Settings--3 ;
.--; <
EXCECUTION_ID--< I
,--I J
LogLevel--K S
.--S T
Information--T _
)--_ `
;--` a
if.. 
(.. 
!.. 
Service..  
...  !

signAppOut..! +
(..+ ,
).., -
...- .
Result... 4
)..4 5
{// 
throw00 
new00 !
	Exception00" +
(00+ ,
$str00, =
)00= >
;00> ?
}11 
return22 
secrets22 "
;22" #
}33 
else33 
{44 
Utils55 
.55 
log55 
(55 
$str55 .
,55. /
LogLevel550 8
.558 9
Error559 >
)55> ?
;55? @
}66 
}77 
catch77 
(77 
	Exception77 
ex77 !
)77! "
{88 
Console99 
.99 
	WriteLine99 !
(99! "
$str99" +
+99, -
ex99. 0
.990 1
Message991 8
)998 9
;999 :
Console:: 
.:: 
	WriteLine:: !
(::! "
$str::" ,
+::- .
ex::/ 1
.::1 2
ToString::2 :
(::: ;
)::; <
)::< =
;::= >
};; 
return>> 
null>> 
;>> 
}?? 	
publicBB 
staticBB 
JObjectBB 
getSecretsFromBTBB .
(BB. /
StringBB/ 5

secretListBB6 @
,BB@ A
StringBBB H

folderListBBI S
,BBS T
StringBBU [
managedAccountListBB\ n
)BBn o
{CC 	
JArrayDD 
secretsDD 
=DD 
newDD  
JArrayDD! '
(DD' (
)DD( )
;DD) *
tryEE 
{EE 
ifFF 
(FF 
!FF 
StringFF 
.FF 
IsNullOrWhiteSpaceFF .
(FF. /

secretListFF/ 9
)FF9 :
||FF; =
!FF> ?
StringFF? E
.FFE F
IsNullOrWhiteSpaceFFF X
(FFX Y

folderListFFY c
)FFc d
)FFd e
{GG 
secretsHH 
=HH .
"getSecretsByFolderPathOrSecretPathHH @
(HH@ A

secretListHHA K
,HHK L

folderListHHM W
)HHW X
;HHX Y
}II 
ifJJ 
(JJ 
SettingsJJ 
.JJ &
FETCH_ALL_MANAGED_ACCOUNTSJJ 7
)JJ7 8
{KK 
StringLL 
[LL 
]LL 
managedAccountsLL ,
=LL- .
getManagedAccountsLL/ A
(LLA B
)LLB C
;LLC D
JArrayMM 
managedSecretsMM )
=MM* +0
$getSecretsBySystemNameAndAccountNameMM, P
(MMP Q
managedAccountsMMQ `
)MM` a
;MMa b
secretsNN 
=NN 
joinSecretsNN )
(NN) *
secretsNN* 1
,NN1 2
managedSecretsNN3 A
)NNA B
;NNB C
}OO 
elseOO 
ifOO 
(OO 
!OO 
StringOO "
.OO" #
IsNullOrWhiteSpaceOO# 5
(OO5 6
managedAccountListOO6 H
)OOH I
)OOI J
{PP 
JArrayQQ 
managedSecretsQQ )
=QQ* +0
$getSecretsBySystemNameAndAccountNameQQ, P
(QQP Q
managedAccountListQQQ c
.QQc d
SplitQQd i
(QQi j
$charQQj m
)QQm n
)QQn o
;QQo p
secretsRR 
=RR 
joinSecretsRR )
(RR) *
secretsRR* 1
,RR1 2
managedSecretsRR3 A
)RRA B
;RRB C
}SS 
JObjectUU 
resultUU 
=UU  $
generateSecretJSONObjectUU! 9
(UU9 :
secretsUU: A
)UUA B
;UUB C
returnVV 
resultVV 
;VV 
}XX 
catchXX 
(XX 
	ExceptionXX 
exXX !
)XX! "
{XX# $
UtilsYY 
.YY 
logYY 
(YY 
stringYY  
.YY  !
FormatYY! '
(YY' (
$strYY( 4
,YY4 5
exYY6 8
.YY8 9
MessageYY9 @
)YY@ A
,YYA B
LogLevelYYC K
.YYK L
ErrorYYL Q
)YYQ R
;YYR S
}ZZ 
return[[ 
null[[ 
;[[ 
}\\ 	
public^^ 
static^^ 
JArray^^ 0
$getSecretsBySystemNameAndAccountName^^ A
(^^A B
String^^B H
[^^H I
]^^I J
managedAccounts^^K Z
)^^Z [
{__ 	
JArray`` 
secrets`` 
=`` 
new``  
JArray``! '
(``' (
)``( )
;``) *
foreachaa 
(aa 
Stringaa 
manageAccountaa )
inaa* ,
managedAccountsaa- <
)aa< =
{bb 
stringcc 
[cc 
]cc 
datacc 
=cc 
manageAccountcc  -
.cc- .
Trimcc. 2
(cc2 3
)cc3 4
.cc4 5
Splitcc5 :
(cc: ;
$charcc; >
)cc> ?
;cc? @
ifdd 
(dd 
datadd 
.dd 
Lengthdd 
!=dd  "
$numdd# $
)dd$ %
{ee 
Utilsff 
.ff 
logff 
(ff 
stringff $
.ff$ %
Formatff% +
(ff+ ,
$strff, J
,ffJ K
manageAccountffL Y
.ffY Z
TrimffZ ^
(ff^ _
)ff_ `
)ff` a
,ffa b
LogLevelffc k
.ffk l
Errorffl q
)ffq r
;ffr s
continuegg 
;gg 
}hh 
Stringii 

systemNameii !
=ii" #
dataii$ (
[ii( )
$numii) *
]ii* +
;ii+ ,
Stringjj 
accountNamejj "
=jj# $
datajj% )
[jj) *
$numjj* +
]jj+ ,
;jj, -
Stringll 

secretPathll !
=ll" #

systemNamell$ .
+ll/ 0
$strll1 4
+ll5 6
accountNamell7 B
;llB C
Stringmm 
responsemm 
=mm  !
Servicemm" )
.mm) *
getManagedAccountsmm* <
(mm< =

systemNamemm= G
,mmG H
accountNamemmI T
)mmT U
.mmU V
ResultmmV \
;mm\ ]
ifnn 
(nn 
Stringnn 
.nn 
IsNullOrEmptynn (
(nn( )
responsenn) 1
)nn1 2
||nn3 5
responsenn6 >
.nn> ?
Equalsnn? E
(nnE F
$strnnF a
)nna b
)nnb c
{oo 
Utilspp 
.pp 
logpp 
(pp 
Stringpp $
.pp$ %
Formatpp% +
(pp+ ,
$strpp, J
,ppJ K

secretPathppL V
)ppV W
,ppW X
LogLevelppY a
.ppa b
Errorppb g
)ppg h
;pph i
continueqq 
;qq 
}rr 
JObjectss 

jsonObjectss "
=ss# $
JObjectss% ,
.ss, -
Parsess- 2
(ss2 3
responsess3 ;
)ss; <
;ss< =
inttt 
systemIDtt 
=tt 

jsonObjecttt )
.tt) *
Valuett* /
<tt/ 0
inttt0 3
>tt3 4
(tt4 5
$strtt5 ?
)tt? @
;tt@ A
intuu 
	accountIDuu 
=uu 

jsonObjectuu  *
.uu* +
Valueuu+ 0
<uu0 1
intuu1 4
>uu4 5
(uu5 6
$struu6 A
)uuA B
;uuB C
Stringvv 
	requestIDvv  
=vv! "
Servicevv# *
.vv* +'
createRequestInPasswordSafevv+ F
(vvF G
systemIDvvG O
,vvO P
	accountIDvvQ Z
)vvZ [
.vv[ \
Resultvv\ b
;vvb c
Stringww 

credentialww !
=ww" #
Serviceww$ +
.ww+ ,$
getCredentialByRequestIDww, D
(wwD E
	requestIDwwE N
)wwN O
.wwO P
ResultwwP V
;wwV W
secretsxx 
.xx 
Addxx 
(xx 
Utilsxx !
.xx! ")
convertManagedAccountToObjectxx" ?
(xx? @

jsonObjectxx@ J
,xxJ K

credentialxxL V
)xxV W
)xxW X
;xxX Y
}yy 
return{{ 
secrets{{ 
;{{ 
}|| 	
public~~ 
static~~ 
JArray~~ .
"getSecretsByFolderPathOrSecretPath~~ ?
(~~? @
String~~@ F
secretsBySecretPath~~G Z
,~~Z [
String~~\ b
secretsByFolderPath~~c v
)~~v w
{ 	
JArray
ÄÄ 
secrets
ÄÄ 
=
ÄÄ 
new
ÄÄ  
JArray
ÄÄ! '
(
ÄÄ' (
)
ÄÄ( )
;
ÄÄ) *
char
ÅÅ 
	separator
ÅÅ 
=
ÅÅ 
$char
ÅÅ  
;
ÅÅ  !
if
ÑÑ 
(
ÑÑ !
secretsBySecretPath
ÑÑ #
!=
ÑÑ$ &
null
ÑÑ' +
&&
ÑÑ, .
!
ÑÑ/ 0
String
ÑÑ0 6
.
ÑÑ6 7
IsNullOrEmpty
ÑÑ7 D
(
ÑÑD E!
secretsBySecretPath
ÑÑE X
)
ÑÑX Y
)
ÑÑY Z
{
ÖÖ 
String
ÜÜ 
[
ÜÜ 
]
ÜÜ 
paths
ÜÜ 
=
ÜÜ  !
secretsBySecretPath
ÜÜ! 4
.
ÜÜ4 5
Split
ÜÜ5 :
(
ÜÜ: ;
$char
ÜÜ; >
)
ÜÜ> ?
;
ÜÜ? @
foreach
áá 
(
áá 
String
áá 

secretPath
áá  *
in
áá+ -
paths
áá. 3
)
áá3 4
{
àà 
if
ââ 
(
ââ 
String
ââ 
.
ââ  
IsNullOrWhiteSpace
ââ 1
(
ââ1 2

secretPath
ââ2 <
)
ââ< =
)
ââ= >
continue
ââ? G
;
ââG H
String
ãã 
[
ãã 
]
ãã 
foldersInPath
ãã *
=
ãã+ ,

secretPath
ãã- 7
.
ãã7 8
Trim
ãã8 <
(
ãã< =
)
ãã= >
.
ãã> ?
Split
ãã? D
(
ããD E
	separator
ããE N
)
ããN O
;
ããO P
String
åå 
title
åå  
=
åå! "
foldersInPath
åå# 0
[
åå0 1
foldersInPath
åå1 >
.
åå> ?
Length
åå? E
-
ååF G
$num
ååH I
]
ååI J
;
ååJ K
string
çç 
path
çç 
=
çç  !
string
çç" (
.
çç( )
Join
çç) -
(
çç- .
	separator
çç. 7
.
çç7 8
ToString
çç8 @
(
çç@ A
)
ççA B
,
ççB C
foldersInPath
ççD Q
.
ççQ R
Take
ççR V
(
ççV W
foldersInPath
ççW d
.
ççd e
Length
ççe k
-
ççl m
$num
ççn o
)
çço p
)
ççp q
;
ççq r
String
èè 
response
èè #
=
èè$ %
Service
èè& -
.
èè- .
getSecretByPath
èè. =
(
èè= >
path
èè> B
,
èèB C
title
èèD I
,
èèI J
	separator
èèK T
,
èèT U
true
èèV Z
)
èèZ [
.
èè[ \
Result
èè\ b
;
èèb c
if
êê 
(
êê 
response
êê  
.
êê  !
Length
êê! '
<=
êê( *
$num
êê+ ,
)
êê, -
{
ëë 
Utils
íí 
.
íí 
log
íí !
(
íí! "
string
íí" (
.
íí( )
Format
íí) /
(
íí/ 0
$str
íí0 f
,
ííf g
path
ííh l
,
ííl m
title
íín s
,
íís t
string
ííu {
.
íí{ |
Joiníí| Ä
(ííÄ Å
$strííÅ Ö
,ííÖ Ü
foldersInPathííá î
)ííî ï
)ííï ñ
,ííñ ó
LogLevelííò †
.íí† °
Informationíí° ¨
)íí¨ ≠
;íí≠ Æ
response
ìì  
=
ìì! "
Service
ìì# *
.
ìì* +
getSecretByPath
ìì+ :
(
ìì: ;
string
ìì; A
.
ììA B
Join
ììB F
(
ììF G
	separator
ììG P
.
ììP Q
ToString
ììQ Y
(
ììY Z
)
ììZ [
,
ìì[ \
foldersInPath
ìì] j
)
ììj k
,
ììk l
title
ììm r
,
ììr s
	separator
ììt }
,
ìì} ~
falseìì Ñ
)ììÑ Ö
.ììÖ Ü
ResultììÜ å
;ììå ç
if
îî 
(
îî 
response
îî $
.
îî$ %
Length
îî% +
<=
îî, .
$num
îî/ 0
)
îî0 1
{
ïï 
Utils
ññ !
.
ññ! "
log
ññ" %
(
ññ% &
string
ññ& ,
.
ññ, -
Format
ññ- 3
(
ññ3 4
$str
ññ4 Y
,
ññY Z

secretPath
ññ[ e
)
ññe f
,
ññf g
LogLevel
ññh p
.
ññp q
Error
ññq v
)
ññv w
;
ññw x
continue
óó $
;
óó$ %
}
òò 
JArray
ôô 
	jsonArray
ôô (
=
ôô) *
JArray
ôô+ 1
.
ôô1 2
Parse
ôô2 7
(
ôô7 8
response
ôô8 @
)
ôô@ A
;
ôôA B
for
öö 
(
öö 
int
öö  
i
öö! "
=
öö# $
$num
öö% &
;
öö& '
i
öö( )
<
öö* +
	jsonArray
öö, 5
.
öö5 6
Count
öö6 ;
;
öö; <
i
öö= >
++
öö> @
)
öö@ A
{
õõ 
JObject
úú #

jsonObject
úú$ .
=
úú/ 0
(
úú1 2
JObject
úú2 9
)
úú9 :
	jsonArray
úú: C
[
úúC D
i
úúD E
]
úúE F
;
úúF G
JObject
ûû #
secret
ûû$ *
=
ûû+ ,#
get_secrets_in_folder
ûû- B
(
ûûB C

jsonObject
ûûC M
)
ûûM N
;
ûûN O
if
üü 
(
üü  
secret
üü  &
!=
üü' )
null
üü* .
)
üü. /
{
†† 
secrets
°°  '
.
°°' (
Add
°°( +
(
°°+ ,
secret
°°, 2
)
°°2 3
;
°°3 4
}
¢¢ 
}
§§ 
}
•• 
else
•• 
{
¶¶ 
JArray
ßß 
	jsonArray
ßß (
=
ßß) *
JArray
ßß+ 1
.
ßß1 2
Parse
ßß2 7
(
ßß7 8
response
ßß8 @
)
ßß@ A
;
ßßA B
for
®® 
(
®® 
int
®®  
i
®®! "
=
®®# $
$num
®®% &
;
®®& '
i
®®' (
<
®®) *
	jsonArray
®®+ 4
.
®®4 5
Count
®®5 :
;
®®: ;
i
®®< =
++
®®= ?
)
®®? @
{
©© 
JObject
™™ #

jsonObject
™™$ .
=
™™/ 0
(
™™1 2
JObject
™™2 9
)
™™9 :
	jsonArray
™™: C
[
™™C D
i
™™D E
]
™™E F
;
™™F G
if
´´ 
(
´´  

jsonObject
´´  *
.
´´* +
Value
´´+ 0
<
´´0 1
string
´´1 7
>
´´7 8
(
´´8 9
$str
´´9 E
)
´´E F
.
´´F G
Equals
´´G M
(
´´M N
$str
´´N T
)
´´T U
)
´´U V
{
¨¨ 
String
≠≠  &
fileContent
≠≠' 2
=
≠≠3 4
Service
≠≠5 <
.
≠≠< =
getSecretFilebyId
≠≠= N
(
≠≠N O

jsonObject
≠≠O Y
.
≠≠Y Z
Value
≠≠Z _
<
≠≠_ `
string
≠≠` f
>
≠≠f g
(
≠≠g h
$str
≠≠h l
)
≠≠l m
)
≠≠m n
.
≠≠n o
Result
≠≠o u
;
≠≠u v
if
ÆÆ  "
(
ÆÆ# $
!
ÆÆ$ %
String
ÆÆ% +
.
ÆÆ+ ,
IsNullOrEmpty
ÆÆ, 9
(
ÆÆ9 :
fileContent
ÆÆ: E
)
ÆÆE F
)
ÆÆF G
{
ØØ  !
JObject
∞∞$ +
secret
∞∞, 2
=
∞∞3 4
Utils
∞∞5 :
.
∞∞: ;
createSecretFile
∞∞; K
(
∞∞K L

jsonObject
∞∞L V
,
∞∞V W
fileContent
∞∞X c
)
∞∞c d
;
∞∞d e
if
±±$ &
(
±±' (
secret
±±( .
!=
±±/ 1
null
±±2 6
)
±±6 7
{
≤≤$ %
secrets
≥≥( /
.
≥≥/ 0
Add
≥≥0 3
(
≥≥3 4
secret
≥≥4 :
)
≥≥: ;
;
≥≥; <
}
¥¥$ %
}
µµ  !
else
µµ" &
{
∂∂  !
Utils
∑∑$ )
.
∑∑) *
log
∑∑* -
(
∑∑- .
string
∑∑. 4
.
∑∑4 5
Format
∑∑5 ;
(
∑∑; <
$str
∑∑< m
,
∑∑m n

jsonObject
∑∑o y
.
∑∑y z
ToString∑∑z Ç
(∑∑Ç É
)∑∑É Ñ
)∑∑Ñ Ö
,∑∑Ö Ü
LogLevel∑∑á è
.∑∑è ê
Error∑∑ê ï
)∑∑ï ñ
;∑∑ñ ó
continue
∏∏$ ,
;
∏∏, -
}
ππ  !
}
∫∫ 
else
∫∫ "
{
ªª 
JObject
ºº  '
secret
ºº( .
=
ºº/ 0
Utils
ºº1 6
.
ºº6 7#
convertSecretToObject
ºº7 L
(
ººL M

jsonObject
ººM W
)
ººW X
;
ººX Y
if
ΩΩ  "
(
ΩΩ# $
secret
ΩΩ$ *
!=
ΩΩ+ -
null
ΩΩ. 2
)
ΩΩ2 3
{
ææ  !
secrets
øø$ +
.
øø+ ,
Add
øø, /
(
øø/ 0
secret
øø0 6
)
øø6 7
;
øø7 8
}
¿¿  !
}
¡¡ 
}
¬¬ 
}
√√ 
}
ƒƒ 
}
≈≈ 
if
«« 
(
«« !
secretsByFolderPath
«« #
!=
««$ &
null
««' +
&&
««, .
!
««/ 0
String
««0 6
.
««6 7
IsNullOrEmpty
««7 D
(
««D E!
secretsByFolderPath
««E X
)
««X Y
)
««Y Z
{
»» 
String
…… 
[
…… 
]
…… 
folders
……  
=
……! "!
secretsByFolderPath
……# 6
.
……6 7
Split
……7 <
(
……< =
$char
……= @
)
……@ A
;
……A B
Utils
   
.
   
log
   
(
   
string
    
.
    !
Format
  ! '
(
  ' (
$str
  ( H
,
  H I
string
  J P
.
  P Q
Join
  Q U
(
  U V
$str
  V Z
,
  Z [
folders
  \ c
)
  c d
)
  d e
,
  e f
LogLevel
  g o
.
  o p
Information
  p {
)
  { |
;
  | }
foreach
ÀÀ 
(
ÀÀ 
String
ÀÀ 
folder
ÀÀ  &
in
ÀÀ' )
folders
ÀÀ* 1
)
ÀÀ1 2
{
ÃÃ 
String
ÕÕ 
response
ÕÕ #
=
ÕÕ$ %
Service
ÕÕ& -
.
ÕÕ- .
getSecretByPath
ÕÕ. =
(
ÕÕ= >
folder
ÕÕ> D
,
ÕÕD E
$str
ÕÕF H
,
ÕÕH I
	separator
ÕÕJ S
,
ÕÕS T
false
ÕÕU Z
)
ÕÕZ [
.
ÕÕ[ \
Result
ÕÕ\ b
;
ÕÕb c
if
ŒŒ 
(
ŒŒ 
response
ŒŒ  
.
ŒŒ  !
Length
ŒŒ! '
<=
ŒŒ( *
$num
ŒŒ+ ,
)
ŒŒ, -
{
œœ 
Utils
–– 
.
–– 
log
–– !
(
––! "
string
––" (
.
––( )
Format
––) /
(
––/ 0
$str
––0 U
,
––U V
folder
––W ]
)
––] ^
,
––^ _
LogLevel
––` h
.
––h i
Error
––i n
)
––n o
;
––o p
continue
——  
;
——  !
}
““ 
JArray
”” 
	jsonArray
”” $
=
””% &
JArray
””' -
.
””- .
Parse
””. 3
(
””3 4
response
””4 <
)
””< =
;
””= >
for
‘‘ 
(
‘‘ 
int
‘‘ 
i
‘‘ 
=
‘‘ 
$num
‘‘  !
;
‘‘! "
i
‘‘# $
<
‘‘% &
	jsonArray
‘‘' 0
.
‘‘0 1
Count
‘‘1 6
;
‘‘6 7
i
‘‘8 9
++
‘‘9 ;
)
‘‘; <
{
’’ 
JObject
÷÷ 

jsonObject
÷÷  *
=
÷÷+ ,
(
÷÷- .
JObject
÷÷. 5
)
÷÷5 6
	jsonArray
÷÷6 ?
[
÷÷? @
i
÷÷@ A
]
÷÷A B
;
÷÷B C
JObject
◊◊ 
secret
◊◊  &
=
◊◊' (#
get_secrets_in_folder
◊◊) >
(
◊◊> ?

jsonObject
◊◊? I
)
◊◊I J
;
◊◊J K
if
ÿÿ 
(
ÿÿ 
secret
ÿÿ "
!=
ÿÿ# %
null
ÿÿ& *
)
ÿÿ* +
{
ŸŸ 
secrets
⁄⁄ #
.
⁄⁄# $
Add
⁄⁄$ '
(
⁄⁄' (
secret
⁄⁄( .
)
⁄⁄. /
;
⁄⁄/ 0
}
€€ 
}
‹‹ 
}
›› 
}
ﬁﬁ 
return
ﬂﬂ 
secrets
ﬂﬂ 
;
ﬂﬂ 
}
‡‡ 	
public
‚‚ 
static
‚‚ 
JObject
‚‚ #
get_secrets_in_folder
‚‚ 3
(
‚‚3 4
JObject
‚‚4 ;
secret
‚‚< B
)
‚‚B C
{
„„ 	
if
‰‰ 
(
‰‰ 
$str
‰‰ 
.
‰‰ 
Equals
‰‰ 
(
‰‰ 
secret
‰‰ $
.
‰‰$ %
Value
‰‰% *
<
‰‰* +
string
‰‰+ 1
>
‰‰1 2
(
‰‰2 3
$str
‰‰3 ?
)
‰‰? @
)
‰‰@ A
)
‰‰A B
{
ÂÂ 
String
ÊÊ 
fileContent
ÊÊ "
=
ÊÊ# $
Service
ÊÊ% ,
.
ÊÊ, -
getSecretFilebyId
ÊÊ- >
(
ÊÊ> ?
secret
ÊÊ? E
.
ÊÊE F
Value
ÊÊF K
<
ÊÊK L
string
ÊÊL R
>
ÊÊR S
(
ÊÊS T
$str
ÊÊT X
)
ÊÊX Y
)
ÊÊY Z
.
ÊÊZ [
Result
ÊÊ[ a
;
ÊÊa b
if
ÁÁ 
(
ÁÁ 
!
ÁÁ 
String
ÁÁ 
.
ÁÁ 
IsNullOrEmpty
ÁÁ )
(
ÁÁ) *
fileContent
ÁÁ* 5
)
ÁÁ5 6
)
ÁÁ6 7
{
ËË 
return
ÈÈ 
Utils
ÈÈ  
.
ÈÈ  !
createSecretFile
ÈÈ! 1
(
ÈÈ1 2
secret
ÈÈ2 8
,
ÈÈ8 9
fileContent
ÈÈ: E
)
ÈÈE F
;
ÈÈF G
}
ÍÍ 
else
ÍÍ 
{
ÎÎ 
Utils
ÏÏ 
.
ÏÏ 
log
ÏÏ 
(
ÏÏ 
string
ÏÏ $
.
ÏÏ$ %
Format
ÏÏ% +
(
ÏÏ+ ,
$str
ÏÏ, ]
,
ÏÏ] ^
secret
ÏÏ_ e
)
ÏÏe f
,
ÏÏf g
LogLevel
ÏÏh p
.
ÏÏp q
Error
ÏÏq v
)
ÏÏv w
;
ÏÏw x
return
ÌÌ 
null
ÌÌ 
;
ÌÌ  
}
ÓÓ 
}
ÔÔ 
else
ÔÔ 
{
 
return
ÒÒ 
Utils
ÒÒ 
.
ÒÒ #
convertSecretToObject
ÒÒ 2
(
ÒÒ2 3
secret
ÒÒ3 9
)
ÒÒ9 :
;
ÒÒ: ;
}
ÚÚ 
}
ÛÛ 	
public
ıı 
static
ıı 
String
ıı 
[
ıı 
]
ıı  
getManagedAccounts
ıı 1
(
ıı1 2
)
ıı2 3
{
ˆˆ 	
char
˜˜ 
	separator
˜˜ 
=
˜˜ 
$char
˜˜ !
;
˜˜! "
String
¯¯ 
response
¯¯ 
=
¯¯ 
Service
¯¯ %
.
¯¯% & 
getManagedAccounts
¯¯& 8
(
¯¯8 9
$str
¯¯9 ;
,
¯¯; <
$str
¯¯= ?
)
¯¯? @
.
¯¯@ A
Result
¯¯A G
;
¯¯G H
JArray
˘˘ 
	jsonArray
˘˘ 
=
˘˘ 
JArray
˘˘ %
.
˘˘% &
Parse
˘˘& +
(
˘˘+ ,
response
˘˘, 4
)
˘˘4 5
;
˘˘5 6
String
˙˙ 
[
˙˙ 
]
˙˙ 
managedAccounts
˙˙ $
=
˙˙% &
new
˙˙' *
String
˙˙+ 1
[
˙˙1 2
	jsonArray
˙˙2 ;
.
˙˙; <
Count
˙˙< A
]
˙˙A B
;
˙˙B C
for
˚˚ 
(
˚˚ 
int
˚˚ 
i
˚˚ 
=
˚˚ 
$num
˚˚ 
;
˚˚ 
i
˚˚ 
<
˚˚ 
	jsonArray
˚˚  )
.
˚˚) *
Count
˚˚* /
;
˚˚/ 0
i
˚˚1 2
++
˚˚2 4
)
˚˚4 5
{
¸¸ 
JObject
˝˝ 

jsonObject
˝˝ "
=
˝˝# $
(
˝˝% &
JObject
˝˝& -
)
˝˝- .
	jsonArray
˝˝. 7
[
˝˝7 8
i
˝˝8 9
]
˝˝9 :
;
˝˝: ;
managedAccounts
˛˛ 
[
˛˛  
i
˛˛  !
]
˛˛! "
=
˛˛# $

jsonObject
˛˛% /
.
˛˛/ 0
Value
˛˛0 5
<
˛˛5 6
string
˛˛6 <
>
˛˛< =
(
˛˛= >
$str
˛˛> J
)
˛˛J K
+
˛˛L M
$str
˛˛N Q
+
˛˛R S

jsonObject
˛˛T ^
.
˛˛^ _
Value
˛˛_ d
<
˛˛d e
string
˛˛e k
>
˛˛k l
(
˛˛l m
$str
˛˛m z
)
˛˛z {
;
˛˛{ |
}
ˇˇ 
return
ÄÄ 
managedAccounts
ÄÄ "
;
ÄÄ" #
}
ÅÅ 	
public
ÉÉ 
static
ÉÉ 
JObject
ÉÉ &
generateSecretJSONObject
ÉÉ 6
(
ÉÉ6 7
JArray
ÉÉ7 =
	jsonArray
ÉÉ> G
)
ÉÉG H
{
ÑÑ 	
JObject
ÖÖ 
result
ÖÖ 
=
ÖÖ 
new
ÖÖ  
JObject
ÖÖ! (
(
ÖÖ( )
)
ÖÖ) *
;
ÖÖ* +
foreach
ÜÜ 
(
ÜÜ 
JObject
ÜÜ 
item
ÜÜ !
in
ÜÜ" $
	jsonArray
ÜÜ% .
)
ÜÜ. /
{
áá 
String
àà 

folderPath
àà !
=
àà" #
item
àà$ (
[
àà( )
$str
àà) 5
]
àà5 6
?
àà6 7
.
àà7 8
ToString
àà8 @
(
àà@ A
)
ààA B
;
ààB C
String
ââ 
[
ââ 
]
ââ 
folders
ââ  
=
ââ! "

folderPath
ââ# -
.
ââ- .
Split
ââ. 3
(
ââ3 4
$char
ââ4 7
)
ââ7 8
;
ââ8 9
JObject
ãã 
current
ãã 
=
ãã  !
result
ãã" (
;
ãã( )
for
åå 
(
åå 
int
åå 
i
åå 
=
åå 
$num
åå 
;
åå 
i
åå  
<
åå! "
folders
åå# *
.
åå* +
Length
åå+ 1
;
åå1 2
i
åå2 3
++
åå3 5
)
åå5 6
{
çç 
String
éé 
folder
éé !
=
éé" #
folders
éé$ +
[
éé+ ,
i
éé, -
]
éé- .
;
éé. /
if
èè 
(
èè 
!
èè 
current
èè  
.
èè  !
ContainsKey
èè! ,
(
èè, -
folder
èè- 3
)
èè3 4
)
èè4 5
{
êê 
if
ëë 
(
ëë 
item
ëë  
.
ëë  !
ContainsKey
ëë! ,
(
ëë, -
$str
ëë- :
)
ëë: ;
&&
ëë< >
folder
ëë? E
==
ëëF H
folders
ëëI P
[
ëëP Q
folders
ëëQ X
.
ëëX Y
Count
ëëY ^
(
ëë^ _
)
ëë_ `
-
ëëa b
$num
ëëb c
]
ëëd e
)
ëëe f
{
íí 
string
ìì "
accountName
ìì# .
=
ìì/ 0
item
ìì1 5
[
ìì5 6
$str
ìì6 C
]
ììC D
?
ììD E
.
ììE F
ToString
ììF N
(
ììN O
)
ììO P
??
ììQ S
$str
ììT V
;
ììV W
current
îî #
[
îî# $
accountName
îî$ /
]
îî/ 0
=
îî1 2
JObject
îî3 :
.
îî: ;
Parse
îî; @
(
îî@ A
item
îîA E
.
îîE F
ToString
îîF N
(
îîN O
)
îîO P
)
îîP Q
;
îîQ R
}
ïï 
else
ïï 
{
ññ 
current
óó #
[
óó# $
folder
óó$ *
]
óó* +
=
óó, -
new
óó. 1
JObject
óó2 9
(
óó9 :
)
óó: ;
;
óó; <
}
òò 
}
ôô 
if
öö 
(
öö 
current
öö 
[
öö  
folder
öö  &
]
öö& '
is
öö( *
JObject
öö+ 2
nested
öö3 9
)
öö9 :
{
õõ 
current
úú 
=
úú  !
nested
úú" (
;
úú( )
}
ùù 
}
ûû 
if
üü 
(
üü 
item
üü 
.
üü 
ContainsKey
üü $
(
üü$ %
$str
üü% ,
)
üü, -
)
üü- .
{
†† 
string
°° 
title
°°  
=
°°! "
item
°°# '
[
°°' (
$str
°°( /
]
°°/ 0
?
°°0 1
.
°°1 2
ToString
°°2 :
(
°°: ;
)
°°; <
??
°°= ?
$str
°°@ B
;
°°B C
JObject
¢¢ 
temp
¢¢  
=
¢¢! "
item
¢¢# '
;
¢¢' (
if
££ 
(
££ 
!
££ 
current
££  
.
££  !
ContainsKey
££! ,
(
££, -
title
££- 2
)
££2 3
)
££3 4
{
§§ 
current
•• 
[
••  
title
••  %
]
••% &
=
••' (
JObject
••) 0
.
••0 1
Parse
••1 6
(
••6 7
item
••7 ;
.
••; <
ToString
••< D
(
••D E
)
••E F
)
••F G
;
••G H
}
¶¶ 
}
ßß 
}
®® 
return
©© 
result
©© 
;
©© 
}
™™ 	
public
¨¨ 
static
¨¨ 
JArray
¨¨ 
joinSecrets
¨¨ (
(
¨¨( )
JArray
¨¨) /
secrets
¨¨0 7
,
¨¨7 8
JArray
¨¨9 ?
secrets2
¨¨@ H
)
¨¨H I
{
≠≠ 	
foreach
ØØ 
(
ØØ 
JObject
ØØ 
secret
ØØ #
in
ØØ$ &
secrets2
ØØ' /
)
ØØ/ 0
{
∞∞ 
secrets
±± 
.
±± 
Add
±± 
(
±± 
secret
±± "
.
±±" #
	DeepClone
±±# ,
(
±±, -
)
±±- .
)
±±. /
;
±±/ 0
}
≤≤ 
return
≥≥ 
secrets
≥≥ 
;
≥≥ 
}
¥¥ 	
}
µµ 
}∂∂ 